(this["webpackJsonpmarvel-comics"]=this["webpackJsonpmarvel-comics"]||[]).push([[0],{140:function(e,t,n){e.exports=n(290)},145:function(e,t,n){},163:function(e,t,n){},284:function(e,t,n){},285:function(e,t,n){},286:function(e,t,n){},287:function(e,t,n){},289:function(e,t,n){},290:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(29),i=n.n(c),o=(n(145),n(20)),l=Object(r.createContext)(),u=function(){return Object(r.useContext)(l)},s=n(16),m=n(81),E=n.n(m);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(n,!0).forEach((function(t){Object(s.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d="f761a11067d7e29fb1f5c496a7350db3",h="https://gateway.marvel.com/v1/public/comics",v=function(e){return{type:"RECEIVE_RESULTS",results:e}},b=function(e){var t={};return Object.keys(e).forEach((function(n){e[n]&&(t[n]=e[n])})),t},g=n(297),O=n(301),y=n(300),w=n(291),j=(n(163),function(e){var t=e.title,n=e.issueNumber,r=e.thumbnail,c=e.onClick;return a.a.createElement(y.a,{className:"ComicResult",as:"a",onClick:c},a.a.createElement(y.a.Image,{size:"tiny",src:"".concat(r.path,"/standard_medium.").concat(r.extension)}),a.a.createElement(y.a.Content,null,a.a.createElement(y.a.Header,null,t),n>0&&a.a.createElement(y.a.Meta,null,"Issue No. ",n)),a.a.createElement(w.a,{floated:"right"},"View Details"))}),C=(n(284),function(){var e=u(),t=Object(o.a)(e,2),n=t[0],r=n.query,c=n.results,i=t[1],l=function(e){return function(e,t){e(function(e){return{type:"REQUEST_COMIC",id:e}}()),E()({url:"".concat(h,"/").concat(t),params:{apikey:d}}).then((function(t){e({type:"RECEIVE_COMIC",comic:t.data.data.results[0]})}))}(i,e)};return c.results||c.isFetching?a.a.createElement("div",{className:"SearchResults"},c.isFetching&&a.a.createElement(g.a,{inverted:!0,active:!0}),0===c.results.length&&a.a.createElement(O.a,null,a.a.createElement(O.a.Header,null,"No Results for '",r.title,"'"),a.a.createElement("p",null,"Try being more specific. Or just type 'Spider-Man'.")),c.results.length>0&&a.a.createElement(y.a.Group,null,c.results.map((function(e){return a.a.createElement(j,Object.assign({key:e.id},e,{onClick:function(){return l(e.id)}}))})))):null}),S=n(298),P=n(30),_=(n(285),function(){var e=u(),t=Object(o.a)(e,2),n=t[0],r=n.query,c=n.options,i=n.results,l=t[1];return a.a.createElement("div",{className:"SearchQuery ".concat(i.results||i.isFetching?"with-results":"")},a.a.createElement(S.a,{fluid:!0,name:"title",value:r.title,size:"large",onChange:function(e){var t=e.target;l(function(e){return{type:"UPDATE_QUERY",query:e}}(Object(s.a)({},t.name,t.value)))},icon:a.a.createElement(P.a,{name:"search",inverted:!0,circular:!0,link:!0,onClick:function(){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e({type:"REQUEST_RESULTS"}),E()({url:h,params:p({apikey:d},b(t),{},n)}).then((function(t){e(v(t.data.data))}))}(l,r,c)}}),placeholder:"Search for a comic..."}))}),k=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(_,null),a.a.createElement(C,null))},R=(n(286),function(){var e=u(),t=Object(o.a)(e,1)[0].comic,n=t.comic,r=!!(n.images&&n.images.length>0)&&n.images[0];return a.a.createElement("div",{className:"ComicDetail"},t.isFetching&&a.a.createElement(g.a,{active:!0}),!t.isFetching&&n&&a.a.createElement(y.a.Group,null,a.a.createElement(y.a,null,r&&a.a.createElement(y.a.Image,{src:"".concat(r.path,"/portrait_incredible.").concat(r.extension)}),a.a.createElement(y.a.Content,null,a.a.createElement(y.a.Header,null,n.title),n.issueNumber>0&&a.a.createElement(y.a.Meta,null,"Issue No. ",n.issueNumber),a.a.createElement(y.a.Description,null,n.description)))))}),N=function(){return a.a.createElement(R,null)},I=n(302),D=(n(287),function(e){var t=e.withBackButton,n=u(),r=Object(o.a)(n,2),c=r[0].results,i=r[1];return a.a.createElement(I.a,{textAlign:"center",className:"HeaderBar ".concat(c.isFetching||c.results?"with-results":""),size:"huge",inverted:!0,dividing:!0,as:"div"},t&&a.a.createElement(w.a,{className:"HeaderBar__back_button",floated:"left",animated:"fade",inverted:!0,onClick:function(){return i({type:"CHANGE_VIEW",view:"search"})}},a.a.createElement(w.a.Content,{visible:!0},"Back"),a.a.createElement(w.a.Content,{hidden:!0},a.a.createElement(P.a,{name:"arrow left"}))),a.a.createElement(I.a.Content,{className:"HeaderBar__content"},"Marvel Comics"))});n(288),n(289);var T=function(){var e=u(),t=Object(o.a)(e,1)[0].view;return a.a.createElement("div",{className:"App"},a.a.createElement(D,{withBackButton:"comic"===t}),{search:a.a.createElement(k,null),comic:a.a.createElement(N,null)}[t||"search"])};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(n,!0).forEach((function(t){Object(s.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var B={view:"search",query:{title:""},results:{isFetching:!1,results:!1},options:{limit:20,offset:1},comic:{id:!1,isFetching:!1,comic:!1}};i.a.render(a.a.createElement((function(e){var t=e.reducer,n=e.initialState,c=e.children;return a.a.createElement(l.Provider,{value:Object(r.useReducer)(t,n)},c)}),{initialState:B,reducer:function(e,t){switch(t.type){case"CHANGE_VIEW":return F({},e,{view:t.view});case"UPDATE_QUERY":return F({},e,{query:F({},e.query,{},t.query)});case"UPDATE_OPTIONS":return F({},e,{options:F({},e.options,{},t.options)});case"REQUEST_RESULTS":return F({},e,{results:{results:!1,isFetching:!0}});case"RECEIVE_RESULTS":return F({},e,{results:F({},e.results,{isFetching:!1},t.results)});case"CLEAR_RESULTS":return B;case"REQUEST_COMIC":return F({},e,{view:"comic",comic:F({},e.comic,{id:t.id,isFetching:!0})});case"RECEIVE_COMIC":return F({},e,{comic:F({},e.comic,{isFetching:!1,comic:t.comic})});default:return e}}},a.a.createElement(T,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[140,1,2]]]);
//# sourceMappingURL=main.6a05c97c.chunk.js.map